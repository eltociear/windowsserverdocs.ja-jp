---
title: choice
description: Choice コマンドのリファレンストピックでは、バッチプログラム内の1文字の選択肢の一覧から1つの項目を選択するようにユーザーに要求し、選択した選択範囲のインデックスを返します。
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: c65a9119-410b-4dcf-9fa7-4e07d2a7238b
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 32c0daa680178c1952015c62c6c6749acf5f6143
ms.sourcegitcommit: ab64dc83fca28039416c26226815502d0193500c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/01/2020
ms.locfileid: "82713533"
---
# <a name="choice"></a>choice

バッチプログラムに含まれる1文字の選択肢の一覧から1つの項目を選択するようにユーザーに要求し、選択した選択項目のインデックスを返します。 パラメーターを指定せずに使用した場合、**選択肢**に**Y**と**N**の既定の選択肢が表示されます。

## <a name="syntax"></a>構文

```
choice [/c [<choice1><choice2><…>]] [/n] [/cs] [/t <timeout> /d <choice>] [/m <text>]
```

### <a name="parameters"></a>パラメーター

| パラメーター | [説明] |
| --------- | ----------- |
| スイッチ`<choice1><choice2><…>` | 作成する選択肢の一覧を指定します。 有効な選択肢は、a-z、a-z、0-9、および拡張 ASCII 文字 (128-254) です。 既定の一覧は YN で、として`[Y,N]?`表示されます。 |
| /n | 選択項目の一覧を非表示にします。選択肢は引き続き有効であり、( **/m**で指定されている場合) メッセージテキストが引き続き表示されます。 |
| /cs | 選択肢で大文字と小文字を区別することを指定します。 既定では、選択肢の大文字と小文字は区別されません。 |
| /t`<timeout>` | **/D**によって指定された既定の選択を使用する前に、一時停止する秒数を指定します。 使用可能な値は**0** ~ **9999**です。 **/T**が**0**に設定されている場合、 **choice**は、既定の選択を返す前に一時停止しません。 |
| d`<choice>` | **/T**によって指定された秒数を待機した後に使用する既定のオプションを指定します。 既定の選択肢は、 **/c**によって指定された選択肢の一覧に含まれている必要があります。 |
| /m`<text>` | 選択肢の一覧の前に表示するメッセージを指定します。 **/M**が指定されていない場合は、choice プロンプトだけが表示されます。 |
| /? | コマンド プロンプトにヘルプを表示します。 |

## <a name="remarks"></a>Remarks

- **ERRORLEVEL**環境変数は、ユーザーが選択肢の一覧から選択するキーのインデックスに設定されます。 リスト内の最初の選択肢は、値`1`、2番目の値、 `2`などを返します。 ユーザーが無効なキーを押すと、警告ビープ音が**鳴ります**。 

- **Choice**がエラー状態を検出した場合は**ERRORLEVEL** 、の`255`ERRORLEVEL 値を返します。 ユーザーが CTRL + BREAK キーまたは CTRL + C キー **choice**を押した場合、Choice `0`は**ERRORLEVEL**値を返します。

> [!NOTE]
> バッチプログラムで**ERRORLEVEL**値を使用する場合は、それらを降順に一覧表示する必要があります。

## <a name="examples"></a>例

**Y**、 **N**、 **C**の選択肢を表示するには、バッチファイルに次の行を入力します。

```
choice /c ync
```

バッチファイルで**choice**コマンドを実行すると、次のプロンプトが表示されます。

```
[Y,N,C]?
```

**Y**、 **N**、および**C**の選択肢を非表示にするには、 **[はい**]、[**いいえ**]、または [**続行**] というテキストを表示するには、バッチファイルに次の行を入力します。

```
choice /c ync /n /m Yes, No, or Continue?
```

> [!NOTE]
> **/N**パラメーターを使用していても、 **/m**を使用しない場合、ユーザーは**選択**が入力を待機しているときにプロンプトが表示されません。

前の例で使用したテキストとオプションの両方を表示するには、バッチファイルに次の行を入力します。

```
choice /c ync /m Yes, No, or Continue
```

5秒の制限時間を設定し、既定値として**N**を指定するには、バッチファイルに次の行を入力します。

```
choice /c ync /t 5 /d n
```

> [!NOTE]
> この例では、ユーザーが5秒以内にキーを押していない場合、 **choice**は既定で**N**を選択`2`し、のエラー値を返します。 それ以外の場合、 **choice**はユーザーの選択に対応する値を返します。

## <a name="additional-references"></a>その他のリファレンス

- [コマンド ライン構文の記号](command-line-syntax-key.md)
