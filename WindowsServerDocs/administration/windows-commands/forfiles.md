---
title: forfiles
description: '* * * * のリファレンストピック'
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 43f6b004-446d-4fdd-91c5-5653613524a4
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 08/21/2018
ms.openlocfilehash: 21cbc24028af5c4194d36258aecdd5432fb4069f
ms.sourcegitcommit: ab64dc83fca28039416c26226815502d0193500c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/01/2020
ms.locfileid: "82725574"
---
# <a name="forfiles"></a>forfiles



ファイルまたはファイルのセットに対してコマンドを選択して実行します。 このコマンドは、バッチ処理に役立ちます。



## <a name="syntax"></a>構文

```
forfiles [/p <Path>] [/m <SearchMask>] [/s] [/c <Command>] [/d [{+|-}][{<Date>|<Days>}]]
```


### <a name="parameters"></a>パラメーター

|                     パラメーター                      |                                                                                                                                                                                                                                                                                                    [説明]                                                                                                                                                                                                                                                                                                     |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     /p \<パス>                     |                                                                                                                                                                                                                                                 検索の開始位置を示すパスを指定します。 既定では、検索は現在の作業ディレクトリから開始されます。                                                                                                                                                                                                                                                  |
|                  /m \<SearchMask>                  |                                                                                                                                                                                                                                                           指定された検索マスクに従ってファイルを検索します。 既定の検索マスクは** \*です\\ 。**\*.                                                                                                                                                                                                                                                           |
|                         /s                         |                                                                                                                                                                                                                                                                   **Forfiles**コマンドに対して、サブディレクトリを再帰的に検索するように指示します。                                                                                                                                                                                                                                                                    |
|                  /c \<コマンド>                   |                                                                                                                                                                                                                                  各ファイルに対して指定されたコマンドを実行します。 コマンド文字列は引用符で囲む必要があります。 既定のコマンドは**cmd/c echo @file**です。                                                                                                                                                                                                                                   |
| /d&nbsp;[{+\|-}] &#8288; [{\<日付>\|&#8288;\<日数>}] | 指定された期間内に最終更新日のファイルを選択します。</br>-日付が MM/DD/YYYY の形式で指定され**+** た日付以下 () またはそれ**-** より前 () である*Date*ファイルを選択します。</br>-現在の日付に指定さ**+****-** れた日数を加算した日付、または現在の日付から指定した日数を差し引いた日付 () までの最終更新日を含むファイルを選択します。</br>- *Days*に有効な値には、0 ~ 32768 の範囲の任意の数を指定します。 符号が指定されて**+** いない場合、既定ではが使用されます。 |
|                         /?                         |                                                                                                                                                                                                                                                                                        コマンド プロンプトにヘルプを表示します。                                                                                                                                                                                                                                                                                        |

## <a name="remarks"></a>Remarks

-   **Forfiles**は、バッチファイルで最もよく使用されます。
-   **Forfiles/s**は**dir/s.** に似ています。
-   コマンド文字列では、 **/c**コマンドラインオプションで指定されているように、次の変数を使用できます。  

|変数|説明|
|--------|-----------|
|@FILE|ファイル名。|
|@FNAME|拡張子のないファイル名です。|
|@EXT|ファイル名の拡張子。|
|@PATH|ファイルの完全パス。|
|@RELPATH|ファイルの相対パス。|
|@ISDIR|ファイルの種類がディレクトリの場合、TRUE に評価されます。 それ以外の場合、この変数は FALSE に評価されます。|
|@FSIZE|ファイルサイズ (バイト単位)。|
|@FDATE|ファイルで最後に変更された日付スタンプ。|
|@FTIME|ファイルの最終更新日時スタンプ。|

-   **Forfiles**を使用すると、に対してコマンドを実行したり、複数のファイルに引数を渡したりすることができます。 たとえば、.txt というファイル名拡張子を持つツリー内のすべてのファイルに対して**type**コマンドを実行できます。 または、すべてのバッチファイル (* .bat) をドライブ C で実行し、ファイル名 Myinput を最初の引数として指定することもできます。
-   **Forfiles**を使用すると、次のいずれかの操作を実行できます。  
    -   ファイルの絶対日付または相対日付で **/d**パラメーターを使用して選択します。
    -   や@FSIZE @FDATEなどの変数を使用して、ファイルのアーカイブツリーを構築します。
    -   変数を使用して、 @ISDIRファイルをディレクトリと区別します。
    -   コマンドラインに特殊文字を含めるには、文字の16進コードを 0x*HH*形式 (たとえば、タブの 0x09) で使用します。
-   **Forfiles**は、1つのファイルのみを処理するように設計されたツールに対して、**再帰サブディレクトリ**フラグを実装することによって機能します。

## <a name="examples"></a>例

C ドライブのすべてのバッチファイルの一覧を表示するには、次のように入力します。
```
forfiles /p c:\ /s /m *.bat /c cmd /c echo @file is a batch file
```
C ドライブのすべてのディレクトリの一覧を表示するには、次のように入力します。
```
forfiles /p c:\ /s /m *.* /c cmd /c if @isdir==TRUE echo @file is a directory
```
現在のディレクトリにある、少なくとも1年前のすべてのファイルを一覧表示するには、次のように入力します。
```
forfiles /s /m *.* /d -365 /c cmd /c echo @file is at least one year old.
```
2007年1月1日よりも前のバージョンでは、現在のディレクトリ内の各ファイルのテキスト*ファイル*が古くなっていることを表示するには、次のように入力します。
```
forfiles /s /m *.* /d -01/01/2007 /c cmd /c echo @file is outdated. 
```
現在のディレクトリにあるすべてのファイルのファイル名拡張子を列形式で一覧表示し、拡張子の前にタブを追加するには、次のように入力します。
```
forfiles /s /m *.* /c cmd /c echo The extension of @file is 0x09@ext 
```

## <a name="additional-references"></a>その他のリファレンス

- [コマンド ライン構文の記号](command-line-syntax-key.md)
