---
title: shrink
description: DiskPart の圧縮に関する Windows コマンドのトピックでは、指定した量だけ選択したボリュームのサイズを縮小します。
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: ec87cc7c-9846-465e-a10d-4ee10db4f4e6
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 2afdaf4ac27ef0c4378d6ae34d959dc81e63bc18
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/08/2020
ms.locfileid: "80834205"
---
# <a name="shrink"></a>shrink

>適用対象: Windows Server (半期チャネル)、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

Diskpart の [圧縮] コマンドを使用すると、指定した量だけ選択したボリュームのサイズが縮小されます。 このコマンドでは、ボリュームの最後に、未使用の領域から使用可能な空きディスク領域を作成します。

## <a name="syntax"></a>構文
```
shrink [desired=<n>] [minimum=<n>] [nowait] [noerr]
shrink querymax [noerr]
```
### <a name="parameters"></a>パラメーター

|  パラメーター  |                                                                                             説明                                                                                              |
|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 必要な =<n> |                                                     ボリューム サイズから差し引く領域のサイズを MB 単位で指定します。                                                     |
| 最小値 =<n> |                                                           ボリューム サイズから差し引く領域の最小サイズを MB 単位で指定します。                                                           |
|  querymax   |                       ボリュームを削減できます (mb) の領域の最大量を返します。 アプリケーションが現在ボリュームにアクセスしている場合、この値は変わる可能性があります。                        |
|   nowait    |                                                       圧縮処理がまだ進行中のときに、直ちにコマンドを返します。                                                        |
|    noerr    | スクリプトの場合のみ。 エラーが発生しても、エラーが発生しなかったかのように DiskPart はコマンドの処理を続けます。 このパラメーターは、エラー発生すると、DiskPart はエラー コードを生成して終了します。 |

## <a name="remarks"></a>コメント
- ボリュームのサイズを縮小できるのは、ボリュームが NTFS ファイル システムでフォーマットされているか、ボリュームがファイル システムを持たない場合に限られます。
- このコマンドは、ベーシック ボリューム上と、シンプル ボリュームまたはスパン ダイナミック ボリューム上で使用できます。
- 目的の量が指定されていない場合、ボリュームは最小値 (指定されている場合) によって縮小されます。
- 最小量が指定されていない場合は、必要な量だけボリュームが減少します (指定されている場合)。
- 最小量も目的の量も指定されていない場合、ボリュームはできるだけ小さくなります。
- 最小量が指定されていても、十分な空き領域がない場合、コマンドは失敗します。
- この操作を正常に実行するには、ボリュームを選択する必要があります。 使用して、 **ボリュームを選択して** コマンドのボリュームを選択し、それにフォーカスをします。
- このコマンドは、相手先ブランド供給業者 (OEM) パーティション、拡張ファームウェア インターフェイス (EFI) システム パーティション、または回復パーティションについては動作しません。
  ## <a name="examples"></a><a name=BKMK_examples></a>例
  選択したボリュームのサイズを減らすためを 250 および 500 件のメガバイト数の間で最大の可能な量には、次のように入力します。
  ```
  shrink desired=500 minimum=250
  ```
  削減されることができます、ボリュームを mb 単位の最大数を表示するには、次のように入力します。
  ```
  shrink querymax
  ```

[パーティションのサイズ変更](https://technet.microsoft.com/library/hh848680.aspx)
